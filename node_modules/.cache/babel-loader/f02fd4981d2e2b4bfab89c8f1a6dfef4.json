{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\Project\\\\task4\\\\client\\\\src\\\\components\\\\Toolbar.jsx\";\n\nimport React, { useContext } from 'react';\nimport { Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport { DeleteOutlined, UnlockFilled } from '@ant-design/icons';\nimport Axios from \"axios\";\nimport { AuthContext } from \"../context\";\n\nvar Toolbar = function Toolbar(_ref) {\n  var selectedIds = _ref.selectedIds,\n      setChangesCount = _ref.setChangesCount,\n      changesCount = _ref.changesCount;\n\n  var _useContext = useContext(AuthContext),\n      setIsAuth = _useContext.setIsAuth;\n\n  var blockUser = function blockUser() {\n    Axios.put('http://localhost:3001/block', {\n      selectedIds: selectedIds\n    }).then(function (response) {\n      if (response.data.err) {\n        console.log(response.data.err);\n      }\n\n      if (response.data.message) {\n        setChangesCount(++changesCount);\n        var currentId = localStorage.getItem('id');\n\n        if (selectedIds.filter(function (id) {\n          return id === currentId;\n        })) {\n          setIsAuth(false);\n        }\n      }\n    });\n  };\n\n  var unblockUser = function unblockUser() {\n    Axios.put('http://localhost:3001/unblock', {\n      selectedIds: selectedIds\n    }).then(function (response) {\n      if (response.data.err) {\n        console.log(response.data.err);\n      }\n\n      if (response.data.message) {\n        setChangesCount(++changesCount);\n        alert(response.data.message);\n      }\n    });\n  };\n\n  var deleteUser = function deleteUser() {\n    Axios.put('http://localhost:3001/delete', {\n      selectedIds: selectedIds\n    }).then(function (response) {\n      if (response.data.err) {\n        console.log(response.data.err);\n      }\n\n      if (response.data.message) {\n        setChangesCount(++changesCount);\n        alert(response.data.message);\n        var currentId = localStorage.getItem('id');\n\n        if (selectedIds.filter(function (id) {\n          return id === currentId;\n        })) {\n          setIsAuth(false);\n        }\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toolbar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: blockUser,\n    type: \"primary\",\n    danger: true,\n    ghost: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"Block\"), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: unblockUser,\n    className: \"icon\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UnlockFilled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: deleteUser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Toolbar;","map":{"version":3,"names":["React","useContext","Button","DeleteOutlined","UnlockFilled","Axios","AuthContext","Toolbar","selectedIds","setChangesCount","changesCount","setIsAuth","blockUser","put","then","response","data","err","console","log","message","currentId","localStorage","getItem","filter","id","unblockUser","alert","deleteUser"],"sources":["D:/Project/task4/client/src/components/Toolbar.jsx"],"sourcesContent":["import React, {useContext} from 'react';\r\nimport { Button } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport { DeleteOutlined, UnlockFilled } from '@ant-design/icons';\r\nimport Axios from \"axios\";\r\nimport {AuthContext} from \"../context\";\r\n\r\n\r\nconst Toolbar = ({selectedIds, setChangesCount, changesCount}) => {\r\n    const {setIsAuth} = useContext(AuthContext);\r\n\r\n    const blockUser = () => {\r\n           Axios.put('http://localhost:3001/block', {\r\n               selectedIds: selectedIds,\r\n           }).then((response) => {\r\n               if (response.data.err) {\r\n                   console.log(response.data.err);\r\n               }\r\n               if (response.data.message) {\r\n                   setChangesCount(++changesCount);\r\n                   let currentId = localStorage.getItem('id');\r\n                   if (selectedIds.filter(id => id === currentId))  {\r\n                       setIsAuth(false);\r\n                   }\r\n               }\r\n           });\r\n    }\r\n\r\n    const unblockUser = () => {\r\n        Axios.put('http://localhost:3001/unblock', {\r\n            selectedIds: selectedIds,\r\n        }).then((response) => {\r\n            if (response.data.err) {\r\n                console.log(response.data.err);\r\n            }\r\n            if (response.data.message) {\r\n                setChangesCount(++changesCount);\r\n                alert(response.data.message);\r\n            }\r\n        });\r\n    }\r\n\r\n    const deleteUser = () => {\r\n        Axios.put('http://localhost:3001/delete', {\r\n            selectedIds: selectedIds,\r\n        }).then((response) => {\r\n            if (response.data.err) {\r\n                console.log(response.data.err);\r\n            }\r\n            if (response.data.message) {\r\n                setChangesCount(++changesCount);\r\n                alert(response.data.message);\r\n                let currentId = localStorage.getItem('id');\r\n                if (selectedIds.filter(id => id === currentId))  {\r\n                    setIsAuth(false);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className='toolbar'>\r\n            <Button onClick={blockUser}  type=\"primary\" danger ghost>\r\n                Block\r\n            </Button>\r\n            <span onClick={unblockUser} className='icon'>\r\n                <UnlockFilled />\r\n            </span>\r\n            <span onClick={deleteUser}>\r\n                <DeleteOutlined />\r\n            </span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Toolbar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}